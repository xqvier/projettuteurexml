<?php  class Mfilms {	public function parGenres($genre){			$bd = new Mconnect();		$connect=$bd->getRessource();		$stmt = ociparse($connect,"select FILM.TITRE, FILM.ID_FILM from FILM, EST WHERE EST.ID_FILM = FILM.ID_FILM 								AND ID_GENRE = '".$genre."' ORDER BY TITRE "); 		//On parse la requte  effectuer sans oublier de lui passer la chaine de connexion en paramtre 		ociexecute($stmt,OCI_DEFAULT); 		//On execute la requte en lui passant l'option OCI_DEFAULT 						$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		public function parActeur($idActeur){			$bd = new Mconnect();		$connect=$bd->getRessource();		$stmt = ociparse($connect,"select FILM.TITRE, FILM.ID_FILM 									FROM FILM, JOUER, PERSONNE 									WHERE JOUER.ID_FILM = FILM.ID_FILM 									AND JOUER.ID_PERS=PERSONNE.ID_PERS									AND JOUER.ID_PERS = '".$idActeur."' ORDER BY TITRE "); 		ociexecute($stmt,OCI_DEFAULT); 				$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		public function parRealisateur($idRealisateur){			$bd = new Mconnect();		$connect=$bd->getRessource();		$stmt = ociparse($connect,"select FILM.TITRE, FILM.ID_FILM 									FROM FILM, REALISER, PERSONNE 									WHERE REALISER.ID_FILM = FILM.ID_FILM 									AND REALISER.ID_PERS=PERSONNE.ID_PERS									AND REALISER.ID_PERS = '".$idRealisateur."' 									ORDER BY TITRE "); 		ociexecute($stmt,OCI_DEFAULT); 				$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		public function parAlphabet($lettre){		$bd = new Mconnect();		$connect=$bd->getRessource();		if ($lettre == '09'){			$stmt = ociparse($connect,"select TITRE, ID_FILM from FILM WHERE TITRE LIKE '0%' OR TITRE LIKE '1%'																					 OR TITRE LIKE '2%'																					  OR TITRE LIKE '3%'																					   OR TITRE LIKE '4%'																					    OR TITRE LIKE '5%'																						 OR TITRE LIKE '6%'																						  OR TITRE LIKE '7%'																						   OR TITRE LIKE '8%'																						    OR TITRE LIKE '9%' ORDER BY TITRE "); 		} else {					$stmt = ociparse($connect,"select TITRE, ID_FILM from FILM WHERE UPPER(TITRE) LIKE '".$lettre."%' ORDER BY TITRE "); 		}		ociexecute($stmt,OCI_DEFAULT); 				$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		public function parNom($nom){		$bd = new Mconnect();			$connect=$bd->getRessource();		$stmt = ociparse($connect,"select TITRE, ID_FILM from FILM WHERE UPPER(TITRE) LIKE UPPER('%".$nom."%') ORDER BY TITRE "); 		//On parse la requte  effectuer sans oublier de lui passer la chaine de connexion en paramtre 		ociexecute($stmt,OCI_DEFAULT); 		//On execute la requte en lui passant l'option OCI_DEFAULT 						$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		public function parDate($date){			$bd = new Mconnect();		$connect=$bd->getRessource();		$stmt = ociparse($connect,"select TITRE, ID_FILM from FILM WHERE ANNEE='".$date."' ORDER BY TITRE "); 		//On parse la requte  effectuer sans oublier de lui passer la chaine de connexion en paramtre 		ociexecute($stmt,OCI_DEFAULT); 		//On execute la requte en lui passant l'option OCI_DEFAULT 						$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		public function parId($id){			$bd = new Mconnect();		$connect=$bd->getRessource();		$stmt = ociparse($connect,"select f.TITRE, 											f.DUREE, 											 f.ANNEE, 											  f.RESUME, 											   f.NOTES_SITE, 											    f.NOTES_UTIL,												 f.COMMENTAIRE.extract('/film/commentaire/com') as COMMENTAIRE,												  f.COMMENTAIRE.extract('/film/commentaire/pseudo') as PSEUDO,												   f.COMMENTAIRE.extract('/film/commentaire/note') as NOTE,												    f.COMMENTAIRE.extract('/film/commentaire/source') as SOURCE									from FILM f									WHERE f.ID_FILM='".$id."'"); 		ociexecute($stmt,OCI_DEFAULT); 				$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		public function everything(){		$bd = new Mconnect();		$connect=$bd->getRessource();		$stmt = ociparse($connect,"select TITRE, ID_FILM from FILM ORDER BY TITRE"); 		ociexecute($stmt,OCI_DEFAULT); 				$tab = Mutilitaire::tableau($stmt);		return $tab;		$bd->close();	}		}?>